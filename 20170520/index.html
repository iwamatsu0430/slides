
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Slide Template</title>
  <link rel="stylesheet" type='text/css' media='all' href="../assets/css/base.css">
  <link rel="stylesheet" type='text/css' media='all' href="../assets/css/colors.css">
  <link rel="stylesheet" type='text/css' media='all' href="../assets/css/svg-icons.css">
  <link rel="stylesheet" type='text/css' media='all' href="./assets/css/style.css">
</head>

<body>

<main role="main">
  <article id="webslides" class="horizontal">

    <section>
      <span class="background"></span>
      <div class="wrap aligncenter">
        <h1 style='font-size: 5em; line-height: 1.2em;'>
          <strong>Scalaによる<br>サービス開発現場での継続的<br>リファクタリングの実践</strong>
        </h1>
        <p class="text-intro">
          <time>2017/05/20</time><br>
          株式会社ビズリーチ<br>
          岩松竜也
        </p>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <div class="wrap">
        <div class="content-left">
          <img class="aligncenter" style='width: 200px;' src="../assets/img/me_real.jpg">

          <p class="aligncenter" style="margin-top: 20px;">
            <img style="width: 32px;" src="../assets/img/github_icon.png">
            <a style="position: relative; top: -10px; left: 10px;" href="https://github.com/iwamatsu0430">@iwamatsu0430</a>
          </p>
        </div>
        <div class="content-right">
          <h1>岩松竜也</h1>
          <p class="text-intro">
            株式会社ビズリーチ HRMOS事業部<br>
            2015年4月 新卒入社<br>
            入社以来 HRMOS事業部でATS<small>※</small>開発に携わる<br>
            入社以前はC#で医療システムのアルバイトなど<br>
            <span data-step=true data-step-count=1>最近よく「わかまつ」と間違えられます。😡</span>
          </p>
        </div>
      </div>
      <footer>
        <div class="wrap">
          <p class="alignright">※Applicant Tracking System</p>
        </div>
      </footer>
      <counter data-count=1 />
    </section>

    <section>
      <span class="background" style="background-image:url('./assets/img/hrmos_key_visual.jpg')"></span>
      <div class="lp-gradation"></div>
      <header>
        <h2 style="color: #fff;">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_hr.svg" alt="HR">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_m.svg" alt="M">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_os.svg" alt="OS">
          とは
        </h2>
      </header>
      <div class="wrap aligncenter">
        <p style="font-size: 38px; color: white;">人が活躍する未来は、企業が人を活用する未来。</p>
        <figure>
          <img style="height: 42px;" src="./assets/img/hrmos_logo_hr.svg" alt="HR">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_m.svg" alt="M">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_os.svg" alt="OS">
        </figure>
        <p style="color: #fff; margin-top: 20px;">
          「HRMOS（ハーモス）」は、企業の人事を可視化し、<br>
          戦略人事を実現するソリューション。
        </p>
        <p style="color: #fff; margin-top: 20px;">
          AI（人工知能）が人材活用の最適化をサポートし、<br>
          企業の成長に貢献します。
        </p>
      </div>
      <footer>
        <div class="wrap">
          <p class="alignright"><a class="lp-link" target="_blank" href="https://hrmos.co/">詳細を見る</a></p>
        </div>
      </footer>
    </section>

    <section>
      <video class="background-video" autoplay muted loop>
        <source src="./assets/video/hrmos_ats.mp4" type="video/mp4">
      </video>
      <div class="lp-gradation"></div>
      <header>
        <h2 style="color: #fff;">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_hr.svg" alt="HR">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_m.svg" alt="M">
          <img style="height: 42px;" src="./assets/img/hrmos_logo_os.svg" alt="OS">
          採用管理とは
        </h2>
      </header>
      <div class="wrap">
        <p style="font-size: 36px; color: #fff; font-weight: 700; letter-spacing: 2px!important; line-height: 48px;">
          HRテック（HR × Technology）で<br>
          採用を強くする
        </p>
        <p style="color: #fff;">
          HRMOS採用管理は、業務をシンプルにし、<br>
          日々のオペレーションからあなたを解放します。<br>
          採用活動のデータを可視化・分析し、<br>
          戦略的な人材獲得を実現します。
        </p>
      </div>
      <footer>
        <div class="wrap">
          <p class="alignright"><a class="lp-link" target="_blank" href="https://hrmos.co/saiyo/">詳細を見る</a></p>
        </div>
      </footer>
    </section>

    <!-- <section>
      <span class="background"></span>
      <header>
        <h2>技術スタック</h2>
      </header>
    </section> -->

    <section>
      <span class="background"></span>
      <header>
        <h2>今日話す事</h2>
      </header>
      <div class="wrap">
        <ul class="flexblock specs aligncenter">
          <li data-step=true data-step-count=1>
            <h3 style="font-size: 4rem;">Scala素人がリファクタリングをするまで</h3>
          </li>
          <li data-step=true data-step-count=2>
            <h3 style="font-size: 4rem;">機能開発優先の中どうやってリファクタリングを進めたか</h3>
          </li>
          <li data-step=true data-step-count=3>
            <h3 style="font-size: 4rem;">試行の結果、現在</h3>
          </li>
        </ul>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>こんなことありませんか？</h2>
      </header>
      <div class="wrap">
        <div class="grid vertical-align">
          <div class="column">
            <h3>
              参入したプロジェクトのコードが汚すぎる。<br>
              ストレスがたまるのでついカッとなってリファクタリングしてやった。
            </h3>
          </div>
          <div class="column">
            <iframe width="100%" height="284" src="https://c.mangaloo.jp/embed/507047/760018/788948?align=left&width=400" frameborder="0"></iframe>
            <iframe width="100%" height="274" src="https://c.mangaloo.jp/embed/484751/760018/788948?align=left&width=400" frameborder="0"></iframe>
          </div>
        </div>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>そんなことはなかった</h2>
      </header>
      <div class="wrap">
        <div class="grid vertical-align">
          <div class="column">
            <h3>というかScalaが全然わかっていませんでした。</h3>
          </div>
          <div class="column">
            <img style="margin: 0 auto;" width="200" src="./assets/img/school_boy.png">
            <p style="writing-mode: vertical-rl; position: absolute; right: 50px; font-size: 2em;">ぜんぜん<br>わからない</p>
            <p style="writing-mode: vertical-rl; position: absolute; left: 50px; font-size: 2em;">俺たちは<br>雰囲気で<br>Scalaを書いている</p>
          </div>
        </div>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>どうやってScalaを学んだか</h2>
      </header>
      <div class="wrap aligncenter">
        <h3>せっかくなのでご参考にどうぞ</h3>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>こんなことしました</h2>
      </header>
      <div class="wrap">
        <div class="grid vertical-align">
          <div class="column aligncenter">
            <a href="https://www.amazon.co.jp/dp/B01LYPRFI7/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1" target="_blank">
              <img width="300" src="./assets/img/scalable_programming.jpg">
            </a>
            <p>Scalaスケーラブルプログラミング第3版 ¥4,600</p>
          </div>
          <div class="column">
            <h3>読書会</h3>
            <ul class="flexblock specs">
              <li data-step=true data-step-count=1>
                <p>意地でも継続する。ちゃんとやりきる。</p>
              </li>
              <li data-step=true data-step-count=2>
                <p>分からないところをリストアップ・質問する</p>
              </li>
              <li data-step=true data-step-count=3>
                <p>コードサンプルは全てさわる</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>こんなことしました</h2>
      </header>
      <div class="wrap">
        <div class="grid vertical-align">
          <div class="column aligncenter">
            <a href="https://speakerdeck.com/todokr/clojureniru-men-sitehttpsabawotukututemitahua" target="_blank">
              <img width="400" src="./assets/img/http_server.png">
            </a>
            <p>一緒にやってた同期の発表が詳しい</p>
          </div>
          <div class="column">
            <h3>車輪の再発明をしてみる</h3>
            <ul class="flexblock specs">
              <li data-step=true data-step-count=1>
                <p>HTTPサーバをつくってみた</p>
              </li>
              <li data-step=true data-step-count=2>
                <p>Qiita, StackOverflow禁止、RFC、既存実装のみ参照可能</p>
              </li>
              <li data-step=true data-step-count=3>
                <p>気付いたら弊社の新卒研修になってた</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>こんなことしました</h2>
      </header>
      <div class="wrap">
        <div class="grid vertical-align">
          <div class="column aligncenter">
            <a href="https://speakerdeck.com/iwamatsu0430/scalazdeuebuapurimocha-la-head-cha-la" target="_blank">
              <img width="400" src="./assets/img/scalaz_slide.png">
            </a>
            <p>アウトプットも忘れずに</p>
          </div>
          <div class="column">
            <h3>OSSのコードを読んでみる</h3>
            <ul class="flexblock specs">
              <li data-step=true data-step-count=1>
                <p>Playframework, Scalaz, Slick, etc...</p>
              </li>
              <li data-step=true data-step-count=2>
                <p>git cloneしてないと怒られた</p>
              </li>
              <li data-step=true data-step-count=3>
                <p>実装の詳細を追えるようになると安心して使える</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>I can develop by Scala a little</h2>
      </header>
      <div class="wrap">
        <ul class="flexblock steps">
          <li>
            <h3 class="aligncenter">読書会</h3>
            <p class="aligncenter">インプット</p>
          </li>
          <li>
            <div class="process step-2"></div>
            <h3 class="aligncenter">車輪の再発明をしてみる</h3>
            <p class="aligncenter">実践</p>
          </li>
          <li>
            <div class="process step-3"></div>
            <h3 class="aligncenter">OSSのコードを読んでみる</h3>
            <p class="aligncenter">応用</p>
          </li>
        </ul>
        <div class="aligncenter arrow-bottom" data-step=true data-step-count=1 style="margin-top: 30px;"></div>
        <h3 class="aligncenter" data-step=true data-step-count=1 style="margin-top: 30px;">繰り返し取り組む</h3>
        <div class="aligncenter arrow-bottom" data-step=true data-step-count=2 style="margin-top: 30px;"></div>
        <h3 class="aligncenter" data-step=true data-step-count=2 style="margin-top: 30px;">ワタシハ スカラ チョットデキル（ようになれるのか…）</h3>
      </div>
      <counter data-count=2 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>そんな感じでScalaをやってみたい方</h2>
      </header>
      <div class="wrap">
        <h1 class="aligncenter" style='font-size: 10em;'>We are Hiring!!</h1>
        <div style="position: absolute; right: 0; top: 150px;">
          <p style="float: left; position: relative; top: 130px;">プラチナスポンサーだし許してね！</p>
          <img width=200 src="./assets/img/tehepero.png">
        </div>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>あれあれ？このプロジェクトもしかして…</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">だんだんScalaが書けるようになってくる</h3>
        <div class="aligncenter arrow-bottom" data-step=true data-step-count=1 style="margin-top: 30px;"></div>
        <h3 class="aligncenter" data-step=true data-step-count=1 style="margin-top: 30px;">プロジェクトのコードをよく見る</h3>
        <div class="aligncenter arrow-bottom" data-step=true data-step-count=2 style="margin-top: 30px;"></div>
        <h3 class="aligncenter danger-text" data-step=true data-step-count=2 style="margin-top: 30px;">もしかしてひどくない！？ 💢</h3>
      </div>
      <counter data-count=2 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>( ◠‿◠ )☛気づいてしまったか・・・</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">HRMOSの課題</h3>
        <ul class="flexblock specs aligncenter">
          <li data-step=true data-step-count=1>
            <h3 style="font-size: 4rem;">「どう書く」が統一されていない</h3>
          </li>
          <li data-step=true data-step-count=2>
            <h3 style="font-size: 4rem;">レイヤーの責務が各々の理解に委ねられている</h3>
          </li>
          <li data-step=true data-step-count=3>
            <h3 style="font-size: 4rem;">似たような役割のコードが多い or 過剰な共通化</h3>
          </li>
        </ul>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>「どう書く」が統一されていない[WIP]</h2>
      </header>
      <div class="wrap">
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>レイヤーの責務が各々の理解に委ねられている</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">
          HRMOSのレイヤーわけ概要
          <span data-step=true data-step-count=1 class="danger-text">(実態)</span>
        </h3>
        <ul class="flexblock aligncenter">
          <li>
            <h3 style="font-size: 3em;">Controller</h3>
            <ul style="margin-top: 30px">
              <li>フレームワーク関係の処理</li>
              <li data-step=true data-step-count=1 class="danger-text">ビジネスロジック</li>
            </ul>
          </li>
          <li>
            <h3 style="font-size: 3em;">Service</h3>
            <ul style="margin-top: 30px">
              <li>ビジネスロジック</li>
            </ul>
          </li>
          <li>
            <h3 style="font-size: 3em;">Repository</h3>
            <ul style="margin-top: 30px">
              <li>永続層の操作</li>
              <li data-step=true data-step-count=1 class="danger-text">ビジネスロジック</li>
            </ul>
          </li>
        </ul>
        <div data-step=true data-step-count=2>
          <p style="float: left;" class="fxxkin-business-logic">ビジネスロジック</p>
          <p style="float: right;" class="fxxkin-business-logic">ビジネスロジック</p>
        </div>
        <iframe style="position: absolute; top: 0; left: 0;" data-step=true data-step-count=3 width="100%" height="534" src="https://c.mangaloo.jp/embed/689284/760018/788948?align=center&width=800" frameborder="0"></iframe>
      </div>
      <counter data-count=3 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2><span style="opacity: 0.3;">似たような役割のコードが多い or </span>過剰な共通化</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">ローンパターンの多用</h3>
        <iframe data-step=true data-step-count=1 height="400" frameborder="0" style="width: 100%; overflow: hidden; margin-top: 30px;" src="https://embed.scalafiddle.io/embed?sfid=rraUCsw/6&layout=h85"></iframe>
        <p data-step=true data-step-count=1 class="aligncenter">ローンパターンの例(よく見るやつ)</p>
      </div>
      <counter data-count=1 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2><span style="opacity: 0.3;">似たような役割のコードが多い or </span>過剰な共通化</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">何が困るの？<span class="danger-text" data-step=true data-step-count=1>(1年後)</span></h3>
        <div class="loan-pattern">
          <p class="aligncenter">Loan Pattern</p>
          <div class="loan-pattern-comment" data-step=true data-step-count=1>😄😄😄 がしたい！</div>
        </div>
        <div class="loan-pattern">
          <p class="aligncenter">Loan Pattern</p>
          <div class="loan-pattern-comment" data-step=true data-step-count=1>😫😫😫 がしたい！</div>
        </div>
        <div class="loan-pattern">
          <p class="aligncenter">Loan Pattern</p>
          <div class="loan-pattern-comment" data-step=true data-step-count=1>🌞🌞🌞 がしたい！</div>
        </div>
      </div>
      <h3 class="aligncenter" data-step=true data-step-count=2 style="margin-top: 30px;">作りが悪いと 😇😇😇</h3>
      <counter data-count=2 />
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2><span style="opacity: 0.3;">似たような役割のコードが多い or </span>過剰な共通化</h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">ローン同士が依存しまくる<span class="danger-text">(ローン地獄)</span></h3>
        <!-- TODO AIで図を作る -->
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2>似たような役割のコードが多い<span style="opacity: 0.3;"> or 過剰な共通化<span></h2>
      </header>
      <div class="wrap">
        <h3 class="aligncenter">XXX</h3>
      </div>
    </section>

    <section>
      <span class="background"></span>
      <header>
        <h2></h2>
      </header>
      <div class="wrap">
      </div>
    </section>

  </article>
</main>

<script src="../assets/js/webslides.js"></script>
<script>
  window.ws = new WebSlides();
</script>
<script defer src="../assets/js/svg-icons.js"></script>
<script>
  const stepEventName = 'ws:slide-step';
  const resetEventName = 'ws:slide-reset';
  const goNextLogic = ws.goNext;
  var targetSection;
  ws.el.addEventListener("ws:slide-change", function(e) {
    ws.goNext = goNextLogic;
    var currentCount = 0;
    var maxCount = 0;
    const currentSlide = e.detail.currentSlide;
    if (targetSection) {
      ws.el.dispatchEvent(new CustomEvent(resetEventName, {detail: {
        targetSection: targetSection
      }}));
    }
    targetSection = document.querySelector('#section-' + currentSlide);
    const counter = targetSection.querySelector("counter");

    if (counter) {
      maxCount = Number(counter.attributes['data-count'].value);
      if (maxCount > 0) {
        ws.goNext = function() {
          currentCount++;
          ws.el.dispatchEvent(new CustomEvent(stepEventName, {detail: {
            targetSection: targetSection,
            currentCount: currentCount,
            maxCount: maxCount
          }}));
          if (currentCount >= maxCount) {
            ws.goNext = goNextLogic;
            currentCount = 0;
            maxCount = 0;
          }
        };
      }
    }
  });

  ws.el.addEventListener(stepEventName, function(e) {
    const targets = e.detail.targetSection.querySelectorAll('*[data-step="true"][data-step-count="' + e.detail.currentCount + '"]');
    targets.forEach(function(target) {
      target.classList.add('show');
    });
  });

  ws.el.addEventListener(resetEventName, function(e) {
    const targets = e.detail.targetSection.querySelectorAll('*[data-step="true"]');
    targets.forEach(function(target) {
      target.classList.remove('show');
    });
  });

  ws.el.addEventListener("ws:slide-change", function(e) {
    document.querySelectorAll('.background-video').forEach(function(video) {
      video.currentTime = 0;
      video.play();
    });
  });
</script>

</body>

</html>
